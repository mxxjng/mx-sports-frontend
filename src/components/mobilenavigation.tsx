import * as React from "react";
import Link from "next/link";
import { useRouter } from "next/router";
import Image from "next/image";

import { logout } from "../utils/utils";
import { useAuth } from "../contexts/auth";

const MobileNavigation = (props) => {
    const router = useRouter();
    const auth: any = useAuth();

    const handleLogout = (e) => {
        auth.logout();
    };

    if (auth.error) {
        return <div className="hidden"></div>;
    }

    return (
        <div className="fixed sm:hidden z-40 w-full bottom-0 left-0 bg-bg">
            <div className="flex justify-around flex-wrap p-2 px-4 pt-2">
                <div className="text-center">
                    <Link href="/exercises">
                        <div>
                            <svg
                                width="20"
                                height="20"
                                viewBox="0 0 20 20"
                                fill="none"
                                xmlns="http://www.w3.org/2000/svg"
                                className="mx-auto mb-1"
                            >
                                <path
                                    d="M11.7202 7.22003C11.7888 7.14635 11.8716 7.08724 11.9636 7.04625C12.0556 7.00526 12.1549 6.98322 12.2556 6.98144C12.3563 6.97966 12.4564 6.99819 12.5498 7.03591C12.6431 7.07363 12.728 7.12978 12.7992 7.20099C12.8704 7.27221 12.9266 7.35705 12.9643 7.45043C13.002 7.54382 13.0205 7.64385 13.0187 7.74455C13.017 7.84526 12.9949 7.94457 12.9539 8.03657C12.9129 8.12857 12.8538 8.21137 12.7802 8.28003L8.28015 12.78C8.21149 12.8537 8.12869 12.9128 8.03669 12.9538C7.94469 12.9948 7.84538 13.0168 7.74468 13.0186C7.64397 13.0204 7.54394 13.0019 7.45056 12.9642C7.35717 12.9264 7.27233 12.8703 7.20112 12.7991C7.1299 12.7279 7.07375 12.643 7.03603 12.5496C6.99831 12.4562 6.97979 12.3562 6.98156 12.2555C6.98334 12.1548 7.00538 12.0555 7.04637 11.9635C7.08736 11.8715 7.14647 11.7887 7.22015 11.72L11.7202 7.22003Z"
                                    fill={
                                        router.pathname === "/exercises"
                                            ? "#7668CB"
                                            : "white"
                                    }
                                />
                                <path
                                    d="M15.75 0C16.8772 0 17.9582 0.447767 18.7552 1.2448C19.5522 2.04183 20 3.12283 20 4.25V5.25C20 13.396 13.396 20 5.25 20H4.25C3.12283 20 2.04183 19.5522 1.2448 18.7552C0.447767 17.9582 0 16.8772 0 15.75V14.75C0 6.604 6.604 0 14.75 0H15.75ZM18.5 4.25C18.5 3.52065 18.2103 2.82118 17.6945 2.30546C17.1788 1.78973 16.4793 1.5 15.75 1.5H14.75C14.347 1.5 13.948 1.518 13.554 1.553L18.447 6.446C18.482 6.052 18.5 5.653 18.5 5.25V4.25ZM18.153 8.274L11.726 1.847C9.30685 2.41596 7.09608 3.65281 5.34546 5.4167C3.59483 7.18059 2.37469 9.40063 1.824 11.824L8.176 18.176C10.5994 17.6254 12.8195 16.4053 14.5834 14.6547C16.3473 12.904 17.5841 10.6932 18.153 8.274V8.274ZM1.543 13.665C1.515 14.023 1.5 14.385 1.5 14.75V15.75C1.5 16.4793 1.78973 17.1788 2.30546 17.6945C2.82118 18.2103 3.52065 18.5 4.25 18.5H5.25C5.615 18.5 5.977 18.485 6.335 18.456L1.544 13.665H1.543Z"
                                    fill={
                                        router.pathname === "/exercises"
                                            ? "#7668CB"
                                            : "white"
                                    }
                                />
                            </svg>

                            <p
                                className={`${
                                    router.pathname === "/exercises"
                                        ? "text-primary"
                                        : "text-textColor"
                                } text-xs`}
                            >
                                Exercises
                            </p>
                        </div>
                    </Link>
                </div>
                <div>
                    <Link href="/dashboard">
                        <div>
                            <svg
                                width="20"
                                height="20"
                                viewBox="0 0 20 20"
                                fill="none"
                                xmlns="http://www.w3.org/2000/svg"
                                className="mx-auto mb-1"
                            >
                                <path
                                    fillRule="evenodd"
                                    clipRule="evenodd"
                                    d="M2.76902 0H2.6921C2.33982 0 2.03677 1.14615e-08 1.76909 0.0630721C1.35472 0.162087 0.975848 0.373889 0.674457 0.675009C0.373065 0.976129 0.160922 1.35481 0.0615337 1.76909C-5.73077e-08 2.03677 0 2.33828 0 2.6921V6.53796C0 6.89024 1.14615e-08 7.19329 0.0630721 7.46096C0.162087 7.87534 0.373889 8.25421 0.675009 8.5556C0.976129 8.85699 1.35481 9.06914 1.76909 9.16853C2.03677 9.23006 2.33828 9.23006 2.6921 9.23006H6.53796C6.89024 9.23006 7.19329 9.23006 7.46096 9.16699C7.87534 9.06797 8.25421 8.85617 8.5556 8.55505C8.85699 8.25393 9.06914 7.87525 9.16853 7.46096C9.23006 7.19329 9.23006 6.89178 9.23006 6.53796V2.6921C9.23006 2.33982 9.23006 2.03677 9.16699 1.76909C9.06797 1.35472 8.85617 0.975848 8.55505 0.674457C8.25393 0.373065 7.87525 0.160922 7.46096 0.0615337C7.19329 -5.73077e-08 6.89178 0 6.53796 0H2.76902ZM2.12753 1.55988C2.19368 1.5445 2.29675 1.53834 2.76902 1.53834H6.46104C6.93485 1.53834 7.03638 1.54296 7.10253 1.55988C7.24072 1.59293 7.36705 1.6636 7.46752 1.76407C7.56799 1.86454 7.63867 1.99088 7.67172 2.12907C7.6871 2.19368 7.69172 2.29521 7.69172 2.76902V6.46104C7.69172 6.93485 7.6871 7.03638 7.67018 7.10253C7.63713 7.24072 7.56646 7.36705 7.46599 7.46752C7.36552 7.56799 7.23918 7.63867 7.10099 7.67172C7.03792 7.68556 6.93639 7.69172 6.46104 7.69172H2.76902C2.29521 7.69172 2.19368 7.6871 2.12753 7.67018C1.98934 7.63713 1.863 7.56646 1.76253 7.46599C1.66206 7.36552 1.59139 7.23918 1.55834 7.10099C1.5445 7.03792 1.53834 6.93639 1.53834 6.46104V2.76902C1.53834 2.29521 1.54296 2.19368 1.55988 2.12753C1.59293 1.98934 1.6636 1.863 1.76407 1.76253C1.86454 1.66206 1.99088 1.59139 2.12907 1.55834L2.12753 1.55988ZM13.5374 0H13.4605C13.1082 0 12.8052 1.14615e-08 12.5375 0.0630721C12.1231 0.162087 11.7443 0.373889 11.4429 0.675009C11.1415 0.976129 10.9293 1.35481 10.8299 1.76909C10.7684 2.03677 10.7684 2.33828 10.7684 2.6921V6.53796C10.7684 6.89024 10.7684 7.19329 10.8315 7.46096C10.9305 7.87534 11.1423 8.25421 11.4434 8.5556C11.7445 8.85699 12.1232 9.06914 12.5375 9.16853C12.8052 9.23006 13.1067 9.23006 13.4605 9.23006H17.3064C17.6586 9.23006 17.9617 9.23006 18.2294 9.16699C18.6437 9.06797 19.0226 8.85617 19.324 8.55505C19.6254 8.25393 19.8375 7.87525 19.9369 7.46096C19.9985 7.19329 19.9985 6.89178 19.9985 6.53796V2.6921C19.9985 2.33982 19.9985 2.03677 19.9354 1.76909C19.8364 1.35472 19.6246 0.975848 19.3235 0.674457C19.0223 0.373065 18.6437 0.160922 18.2294 0.0615337C17.9617 -5.73077e-08 17.6602 0 17.3064 0H13.5374ZM12.8959 1.55988C12.9621 1.5445 13.0651 1.53834 13.5374 1.53834H17.2294C17.7033 1.53834 17.8048 1.54296 17.8709 1.55988C18.0091 1.59293 18.1355 1.6636 18.2359 1.76407C18.3364 1.86454 18.4071 1.99088 18.4401 2.12907C18.4555 2.19368 18.4601 2.29521 18.4601 2.76902V6.46104C18.4601 6.93485 18.454 7.03638 18.4386 7.10253C18.4055 7.24072 18.3349 7.36705 18.2344 7.46752C18.1339 7.56799 18.0076 7.63867 17.8694 7.67172C17.8048 7.6871 17.7033 7.69172 17.2294 7.69172H13.5374C13.0636 7.69172 12.9621 7.6871 12.8959 7.67018C12.7577 7.63713 12.6314 7.56646 12.5309 7.46599C12.4305 7.36552 12.3598 7.23918 12.3267 7.10099C12.3129 7.03792 12.3067 6.93639 12.3067 6.46104V2.76902C12.3067 2.29521 12.3114 2.19368 12.3283 2.12753C12.3613 1.98934 12.432 1.863 12.5325 1.76253C12.6329 1.66206 12.7593 1.59139 12.8975 1.55834L12.8959 1.55988ZM2.6921 10.7684H6.53796C6.89024 10.7684 7.19329 10.7684 7.46096 10.8315C7.87534 10.9305 8.25421 11.1423 8.5556 11.4434C8.85699 11.7445 9.06914 12.1232 9.16853 12.5375C9.23006 12.8052 9.23006 13.1067 9.23006 13.4605V17.3064C9.23006 17.6586 9.23006 17.9617 9.16699 18.2294C9.06797 18.6437 8.85617 19.0226 8.55505 19.324C8.25393 19.6254 7.87525 19.8375 7.46096 19.9369C7.19329 19.9985 6.89178 19.9985 6.53796 19.9985H2.6921C2.33982 19.9985 2.03677 19.9985 1.76909 19.9354C1.35472 19.8364 0.975848 19.6246 0.674457 19.3235C0.373065 19.0223 0.160922 18.6437 0.0615337 18.2294C-5.73077e-08 17.9617 0 17.6602 0 17.3064V13.4605C0 13.1082 1.14615e-08 12.8052 0.0630721 12.5375C0.162087 12.1231 0.373889 11.7443 0.675009 11.4429C0.976129 11.1415 1.35481 10.9293 1.76909 10.8299C2.03677 10.7684 2.33828 10.7684 2.6921 10.7684ZM2.76902 12.3067C2.29521 12.3067 2.19368 12.3114 2.12753 12.3283C1.98934 12.3613 1.863 12.432 1.76253 12.5325C1.66206 12.6329 1.59139 12.7593 1.55834 12.8975C1.5445 12.9605 1.53834 13.0621 1.53834 13.5374V17.2294C1.53834 17.7033 1.54296 17.8048 1.55988 17.8709C1.59293 18.0091 1.6636 18.1355 1.76407 18.2359C1.86454 18.3364 1.99088 18.4071 2.12907 18.4401C2.19368 18.4555 2.29521 18.4601 2.76902 18.4601H6.46104C6.93485 18.4601 7.03638 18.454 7.10253 18.4386C7.24072 18.4055 7.36705 18.3349 7.46752 18.2344C7.56799 18.1339 7.63867 18.0076 7.67172 17.8694C7.6871 17.8048 7.69172 17.7033 7.69172 17.2294V13.5374C7.69172 13.0636 7.6871 12.9621 7.67018 12.8959C7.63713 12.7577 7.56646 12.6314 7.46599 12.5309C7.36552 12.4305 7.23918 12.3598 7.10099 12.3267C7.03792 12.3129 6.93639 12.3067 6.46104 12.3067H2.76902ZM13.5374 10.7684H13.4605C13.1082 10.7684 12.8052 10.7684 12.5375 10.8315C12.1231 10.9305 11.7443 11.1423 11.4429 11.4434C11.1415 11.7445 10.9293 12.1232 10.8299 12.5375C10.7684 12.8052 10.7684 13.1067 10.7684 13.4605V17.3064C10.7684 17.6586 10.7684 17.9617 10.8315 18.2294C10.9305 18.6437 11.1423 19.0226 11.4434 19.324C11.7445 19.6254 12.1232 19.8375 12.5375 19.9369C12.8052 20 13.1082 20 13.4605 20H17.3064C17.6586 20 17.9617 20 18.2294 19.9369C18.6435 19.8377 19.022 19.6257 19.3231 19.3246C19.6242 19.0235 19.8361 18.645 19.9354 18.2309C19.9985 17.9632 19.9985 17.6602 19.9985 17.3079V13.4605C19.9985 13.1082 19.9985 12.8052 19.9354 12.5375C19.8364 12.1231 19.6246 11.7443 19.3235 11.4429C19.0223 11.1415 18.6437 10.9293 18.2294 10.8299C17.9617 10.7684 17.6602 10.7684 17.3064 10.7684H13.5374ZM12.8959 12.3283C12.9621 12.3129 13.0651 12.3067 13.5374 12.3067H17.2294C17.7033 12.3067 17.8048 12.3114 17.8709 12.3283C18.0091 12.3613 18.1355 12.432 18.2359 12.5325C18.3364 12.6329 18.4071 12.7593 18.4401 12.8975C18.4555 12.9621 18.4601 13.0636 18.4601 13.5374V17.2294C18.4601 17.7033 18.454 17.8048 18.4386 17.8709C18.4055 18.0091 18.3349 18.1355 18.2344 18.2359C18.1339 18.3364 18.0076 18.4071 17.8694 18.4401C17.8048 18.4555 17.7033 18.4601 17.2294 18.4601H13.5374C13.0636 18.4601 12.9621 18.454 12.8959 18.4386C12.7577 18.4055 12.6314 18.3349 12.5309 18.2344C12.4305 18.1339 12.3598 18.0076 12.3267 17.8694C12.3129 17.8063 12.3067 17.7048 12.3067 17.2294V13.5374C12.3067 13.0636 12.3114 12.9621 12.3283 12.8959C12.3613 12.7577 12.432 12.6314 12.5325 12.5309C12.6329 12.4305 12.7593 12.3598 12.8975 12.3267L12.8959 12.3283Z"
                                    fill={
                                        router.pathname === "/dashboard"
                                            ? "#7668CB"
                                            : "white"
                                    }
                                />
                            </svg>

                            <p
                                className={`${
                                    router.pathname === "/dashboard"
                                        ? "text-primary"
                                        : "text-textColor"
                                } text-xs`}
                            >
                                Dashboard
                            </p>
                        </div>
                    </Link>
                </div>
                <div onClick={handleLogout}>
                    <svg
                        width="21"
                        height="20"
                        viewBox="0 0 21 20"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                        className="mx-auto mb-1"
                    >
                        <path
                            fillRule="evenodd"
                            clipRule="evenodd"
                            d="M9.31924 20H4.43324C1.98924 20 0.000244141 18.011 0.000244141 15.565V4.436C0.000244141 1.99 1.98924 0 4.43324 0H9.30824C11.7542 0 13.7442 1.99 13.7442 4.436V5.368C13.7442 5.782 13.4082 6.118 12.9942 6.118C12.5802 6.118 12.2442 5.782 12.2442 5.368V4.436C12.2442 2.816 10.9272 1.5 9.30824 1.5H4.43324C2.81624 1.5 1.50024 2.816 1.50024 4.436V15.565C1.50024 17.184 2.81624 18.5 4.43324 18.5H9.31924C10.9312 18.5 12.2442 17.188 12.2442 15.576V14.633C12.2442 14.219 12.5802 13.883 12.9942 13.883C13.4082 13.883 13.7442 14.219 13.7442 14.633V15.576C13.7442 18.016 11.7582 20 9.31924 20"
                            fill="white"
                        />
                        <mask
                            id="mask0"
                            mask-type="alpha"
                            maskUnits="userSpaceOnUse"
                            x="6"
                            y="9"
                            width="15"
                            height="2"
                        >
                            <path
                                fillRule="evenodd"
                                clipRule="evenodd"
                                d="M6.99609 9.25H20.537V10.75H6.99609V9.25Z"
                                fill="white"
                            />
                        </mask>
                        <g mask="url(#mask0)">
                            <path
                                fillRule="evenodd"
                                clipRule="evenodd"
                                d="M19.7871 10.75H7.74609C7.33209 10.75 6.99609 10.414 6.99609 10C6.99609 9.586 7.33209 9.25 7.74609 9.25H19.7871C20.2011 9.25 20.5371 9.586 20.5371 10C20.5371 10.414 20.2011 10.75 19.7871 10.75"
                                fill="white"
                            />
                        </g>
                        <mask
                            id="mask1"
                            mask-type="alpha"
                            maskUnits="userSpaceOnUse"
                            x="16"
                            y="6"
                            width="5"
                            height="8"
                        >
                            <path
                                fillRule="evenodd"
                                clipRule="evenodd"
                                d="M16.1096 6.33527H20.537V13.666H16.1096V6.33527Z"
                                fill="white"
                            />
                        </mask>
                        <g mask="url(#mask1)">
                            <path
                                fillRule="evenodd"
                                clipRule="evenodd"
                                d="M16.8594 13.666C16.6674 13.666 16.4744 13.593 16.3284 13.445C16.0364 13.151 16.0374 12.677 16.3304 12.385L18.7244 10L16.3304 7.61602C16.0374 7.32402 16.0354 6.85002 16.3284 6.55602C16.6204 6.26202 17.0944 6.26202 17.3884 6.55402L20.3164 9.46902C20.4584 9.60902 20.5374 9.80102 20.5374 10C20.5374 10.199 20.4584 10.391 20.3164 10.531L17.3884 13.447C17.2424 13.593 17.0504 13.666 16.8594 13.666"
                                fill="white"
                            />
                        </g>
                    </svg>
                    <p
                        className={`${
                            router.pathname === "/logout"
                                ? "text-primary"
                                : "text-textColor"
                        } text-xs`}
                    >
                        Logout
                    </p>
                </div>
            </div>
        </div>
    );
};
export default MobileNavigation;
