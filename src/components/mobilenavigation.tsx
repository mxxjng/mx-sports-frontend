import * as React from "react";
import Link from "next/link";
import { useRouter } from "next/router";
import Image from "next/image";

import { logout } from "../utils/utils";
import { useAuth } from "../contexts/auth";

const MobileNavigation = (props) => {
    const router = useRouter();
    const auth: any = useAuth();

    const handleLogout = (e) => {
        auth.logout();
    };

    if (auth.error) {
        return (
            <div className="fixed sm:hidden z-40 w-full bottom-0 left-0 bg-bgHighlight">
                <div className="flex justify-around flex-wrap p-2 px-4 pt-2">
                    <div className="text-center">
                        <Link href="/login">
                            <div>
                                <svg
                                    width="20"
                                    height="20"
                                    viewBox="0 0 20 20"
                                    fill="none"
                                    xmlns="http://www.w3.org/2000/svg"
                                    className="mx-auto mb-1"
                                >
                                    <path
                                        d="M11.7202 7.22003C11.7888 7.14635 11.8716 7.08724 11.9636 7.04625C12.0556 7.00526 12.1549 6.98322 12.2556 6.98144C12.3563 6.97966 12.4564 6.99819 12.5498 7.03591C12.6431 7.07363 12.728 7.12978 12.7992 7.20099C12.8704 7.27221 12.9266 7.35705 12.9643 7.45043C13.002 7.54382 13.0205 7.64385 13.0187 7.74455C13.017 7.84526 12.9949 7.94457 12.9539 8.03657C12.9129 8.12857 12.8538 8.21137 12.7802 8.28003L8.28015 12.78C8.21149 12.8537 8.12869 12.9128 8.03669 12.9538C7.94469 12.9948 7.84538 13.0168 7.74468 13.0186C7.64397 13.0204 7.54394 13.0019 7.45056 12.9642C7.35717 12.9264 7.27233 12.8703 7.20112 12.7991C7.1299 12.7279 7.07375 12.643 7.03603 12.5496C6.99831 12.4562 6.97979 12.3562 6.98156 12.2555C6.98334 12.1548 7.00538 12.0555 7.04637 11.9635C7.08736 11.8715 7.14647 11.7887 7.22015 11.72L11.7202 7.22003Z"
                                        fill={
                                            router.pathname === "/login"
                                                ? "#D6490B"
                                                : "white"
                                        }
                                    />
                                    <path
                                        d="M15.75 0C16.8772 0 17.9582 0.447767 18.7552 1.2448C19.5522 2.04183 20 3.12283 20 4.25V5.25C20 13.396 13.396 20 5.25 20H4.25C3.12283 20 2.04183 19.5522 1.2448 18.7552C0.447767 17.9582 0 16.8772 0 15.75V14.75C0 6.604 6.604 0 14.75 0H15.75ZM18.5 4.25C18.5 3.52065 18.2103 2.82118 17.6945 2.30546C17.1788 1.78973 16.4793 1.5 15.75 1.5H14.75C14.347 1.5 13.948 1.518 13.554 1.553L18.447 6.446C18.482 6.052 18.5 5.653 18.5 5.25V4.25ZM18.153 8.274L11.726 1.847C9.30685 2.41596 7.09608 3.65281 5.34546 5.4167C3.59483 7.18059 2.37469 9.40063 1.824 11.824L8.176 18.176C10.5994 17.6254 12.8195 16.4053 14.5834 14.6547C16.3473 12.904 17.5841 10.6932 18.153 8.274V8.274ZM1.543 13.665C1.515 14.023 1.5 14.385 1.5 14.75V15.75C1.5 16.4793 1.78973 17.1788 2.30546 17.6945C2.82118 18.2103 3.52065 18.5 4.25 18.5H5.25C5.615 18.5 5.977 18.485 6.335 18.456L1.544 13.665H1.543Z"
                                        fill={
                                            router.pathname === "/login"
                                                ? "#D6490B"
                                                : "white"
                                        }
                                    />
                                </svg>

                                <p
                                    className={`${
                                        router.pathname === "/login"
                                            ? "text-primary"
                                            : "text-textColor"
                                    } text-xs`}
                                >
                                    Login
                                </p>
                            </div>
                        </Link>
                    </div>
                    <div>
                        <Link href="/register">
                            <div>
                                <svg
                                    width="20"
                                    height="20"
                                    viewBox="0 0 20 20"
                                    fill="none"
                                    xmlns="http://www.w3.org/2000/svg"
                                    className="mx-auto mb-1"
                                >
                                    <path
                                        d="M0 2.5C0 1.83696 0.263392 1.20107 0.732233 0.732233C1.20107 0.263392 1.83696 0 2.5 0L17.5 0C18.163 0 18.7989 0.263392 19.2678 0.732233C19.7366 1.20107 20 1.83696 20 2.5V17.5C20 18.163 19.7366 18.7989 19.2678 19.2678C18.7989 19.7366 18.163 20 17.5 20H2.5C1.83696 20 1.20107 19.7366 0.732233 19.2678C0.263392 18.7989 0 18.163 0 17.5V2.5ZM18.75 5H13.75V8.75H18.75V5ZM18.75 10H13.75V13.75H18.75V10ZM18.75 15H13.75V18.75H17.5C17.8315 18.75 18.1495 18.6183 18.3839 18.3839C18.6183 18.1495 18.75 17.8315 18.75 17.5V15ZM12.5 18.75V15H7.5V18.75H12.5ZM6.25 18.75V15H1.25V17.5C1.25 17.8315 1.3817 18.1495 1.61612 18.3839C1.85054 18.6183 2.16848 18.75 2.5 18.75H6.25ZM1.25 13.75H6.25V10H1.25V13.75ZM1.25 8.75H6.25V5H1.25V8.75ZM7.5 5V8.75H12.5V5H7.5ZM12.5 10H7.5V13.75H12.5V10Z"
                                        fill={
                                            router.pathname === "/register"
                                                ? "#D6490B"
                                                : "white"
                                        }
                                    />
                                </svg>
                                <p
                                    className={`${
                                        router.pathname === "/register"
                                            ? "text-primary"
                                            : "text-textColor"
                                    } text-xs`}
                                >
                                    Register
                                </p>
                            </div>
                        </Link>
                    </div>
                </div>
            </div>
        );
    }

    return (
        <div className="fixed sm:hidden z-40 w-full bottom-0 left-0 bg-bgHighlight">
            <div className="flex justify-around flex-wrap p-2 px-4 pt-2">
                <div className="text-center">
                    <Link href="/exercises">
                        <div>
                            <svg
                                width="20"
                                height="20"
                                viewBox="0 0 20 20"
                                fill="none"
                                xmlns="http://www.w3.org/2000/svg"
                                className="mx-auto mb-1"
                            >
                                <path
                                    d="M11.7202 7.22003C11.7888 7.14635 11.8716 7.08724 11.9636 7.04625C12.0556 7.00526 12.1549 6.98322 12.2556 6.98144C12.3563 6.97966 12.4564 6.99819 12.5498 7.03591C12.6431 7.07363 12.728 7.12978 12.7992 7.20099C12.8704 7.27221 12.9266 7.35705 12.9643 7.45043C13.002 7.54382 13.0205 7.64385 13.0187 7.74455C13.017 7.84526 12.9949 7.94457 12.9539 8.03657C12.9129 8.12857 12.8538 8.21137 12.7802 8.28003L8.28015 12.78C8.21149 12.8537 8.12869 12.9128 8.03669 12.9538C7.94469 12.9948 7.84538 13.0168 7.74468 13.0186C7.64397 13.0204 7.54394 13.0019 7.45056 12.9642C7.35717 12.9264 7.27233 12.8703 7.20112 12.7991C7.1299 12.7279 7.07375 12.643 7.03603 12.5496C6.99831 12.4562 6.97979 12.3562 6.98156 12.2555C6.98334 12.1548 7.00538 12.0555 7.04637 11.9635C7.08736 11.8715 7.14647 11.7887 7.22015 11.72L11.7202 7.22003Z"
                                    fill={
                                        router.pathname === "/exercises"
                                            ? "#D6490B"
                                            : "white"
                                    }
                                />
                                <path
                                    d="M15.75 0C16.8772 0 17.9582 0.447767 18.7552 1.2448C19.5522 2.04183 20 3.12283 20 4.25V5.25C20 13.396 13.396 20 5.25 20H4.25C3.12283 20 2.04183 19.5522 1.2448 18.7552C0.447767 17.9582 0 16.8772 0 15.75V14.75C0 6.604 6.604 0 14.75 0H15.75ZM18.5 4.25C18.5 3.52065 18.2103 2.82118 17.6945 2.30546C17.1788 1.78973 16.4793 1.5 15.75 1.5H14.75C14.347 1.5 13.948 1.518 13.554 1.553L18.447 6.446C18.482 6.052 18.5 5.653 18.5 5.25V4.25ZM18.153 8.274L11.726 1.847C9.30685 2.41596 7.09608 3.65281 5.34546 5.4167C3.59483 7.18059 2.37469 9.40063 1.824 11.824L8.176 18.176C10.5994 17.6254 12.8195 16.4053 14.5834 14.6547C16.3473 12.904 17.5841 10.6932 18.153 8.274V8.274ZM1.543 13.665C1.515 14.023 1.5 14.385 1.5 14.75V15.75C1.5 16.4793 1.78973 17.1788 2.30546 17.6945C2.82118 18.2103 3.52065 18.5 4.25 18.5H5.25C5.615 18.5 5.977 18.485 6.335 18.456L1.544 13.665H1.543Z"
                                    fill={
                                        router.pathname === "/exercises"
                                            ? "#D6490B"
                                            : "white"
                                    }
                                />
                            </svg>

                            <p
                                className={`${
                                    router.pathname === "/exercises"
                                        ? "text-primary"
                                        : "text-textColor"
                                } text-xs`}
                            >
                                Exercises
                            </p>
                        </div>
                    </Link>
                </div>
                <div>
                    <Link href="/dashboard">
                        <div>
                            <svg
                                width="20"
                                height="20"
                                viewBox="0 0 20 20"
                                fill="none"
                                xmlns="http://www.w3.org/2000/svg"
                                className="mx-auto mb-1"
                            >
                                <path
                                    d="M0 2.5C0 1.83696 0.263392 1.20107 0.732233 0.732233C1.20107 0.263392 1.83696 0 2.5 0L17.5 0C18.163 0 18.7989 0.263392 19.2678 0.732233C19.7366 1.20107 20 1.83696 20 2.5V17.5C20 18.163 19.7366 18.7989 19.2678 19.2678C18.7989 19.7366 18.163 20 17.5 20H2.5C1.83696 20 1.20107 19.7366 0.732233 19.2678C0.263392 18.7989 0 18.163 0 17.5V2.5ZM18.75 5H13.75V8.75H18.75V5ZM18.75 10H13.75V13.75H18.75V10ZM18.75 15H13.75V18.75H17.5C17.8315 18.75 18.1495 18.6183 18.3839 18.3839C18.6183 18.1495 18.75 17.8315 18.75 17.5V15ZM12.5 18.75V15H7.5V18.75H12.5ZM6.25 18.75V15H1.25V17.5C1.25 17.8315 1.3817 18.1495 1.61612 18.3839C1.85054 18.6183 2.16848 18.75 2.5 18.75H6.25ZM1.25 13.75H6.25V10H1.25V13.75ZM1.25 8.75H6.25V5H1.25V8.75ZM7.5 5V8.75H12.5V5H7.5ZM12.5 10H7.5V13.75H12.5V10Z"
                                    fill={
                                        router.pathname === "/dashboard"
                                            ? "#D6490B"
                                            : "white"
                                    }
                                />
                            </svg>
                            <p
                                className={`${
                                    router.pathname === "/dashboard"
                                        ? "text-primary"
                                        : "text-textColor"
                                } text-xs`}
                            >
                                Dashboard
                            </p>
                        </div>
                    </Link>
                </div>
                <button
                    className="text-headline cursor-pointer"
                    onClick={handleLogout}
                >
                    Logout
                </button>
            </div>
        </div>
    );
};
export default MobileNavigation;
